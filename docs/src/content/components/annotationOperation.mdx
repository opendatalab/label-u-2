---
title: Image
description: 图片查看
---

用于图像和标注（预）信息的查看。

## 用法

```jsx
import AnnotatiomOperation from '@label-u/components';

function App() {

  const exportData = (data) => {
    console.log('exportData', data);
  };
  const onSubmit = (data) => {
    // 翻页时触发当前页面数据的输出
    console.log('submitData', data);
  };

  const onSave = (data, imgList, index) => {
    console.log('save', data, imgList, index);
  };

  const dataInjectionAtCreation = (data) => {
    return {
      testDataInjection: 1
    };
  };

  const annotationRef = useRef();

  const fileList = [
    {
        "id": 1,
        "url": "https://images.unsplash.com/photo-1653122952207-f20ba3c64f35?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",
        "result": []
    }
 ];

 const basicToolsConfig = [
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "lineTool",
        "config": {
            "isShowCursor": false,
            "lineType": 0,
            "lineColor": 1,
            "edgeAdsorption": true,
            "outOfTarget": true,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 4,
            "customFormat": "^[\\s\\S]{1,3}$",
            "lowerLimitPointNum": 4,
            "upperLimitPointNum": "",
            "attributeList": [
                {
                    "key": "lineTool",
                    "value": "lineTool"
                }
            ]
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "pointTool",
        "config": {
            "isShowCursor": false,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 0,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "polygonTool",
        "config": {
            "isShowCursor": false,
            "lineType": 0,
            "lineColor": 0,
            "drawOutsideTarget": false,
            "edgeAdsorption": true,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 0,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "rectTool",
        "config": {
            "isShowCursor": false,
            "showConfirm": false,
            "skipWhileNoDependencies": false,
            "drawOutsideTarget": false,
            "copyBackwardResult": true,
            "minWidth": 1,
            "minHeight": 1,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 4,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "tagTool",
        "config": {
            "inputList": [
                {
                    "key": "类别1",
                    "value": "class1",
                    "isMulti": false,
                    "subSelected": [
                        {
                            "key": "选项1",
                            "value": "option1",
                            "isDefault": true
                        },
                        {
                            "key": "选项2",
                            "value": "option1-2",
                            "isDefault": false
                        }
                    ]
                }
            ]
        }
    }
];

const goBack = (data:any)=>{
  console.log(data);
}

  return (
    <div>
      <AnnotationOperation
        exportData={exportData}
        headerName="测试各类工具"
        onSubmit={onSubmit}
        imgList={fileList}
        pageSize={10}
        toolsBasicConfig={basicToolsConfig}
        goBack={goBack}
        onSave={onSave}
        dataInjectionAtCreation={dataInjectionAtCreation}
      />
    </div>
  );
}
```

## Examples

### 仅显示图片

范例展现，多个工具同时标注一张图片时参数，也可以按需传入所需工具配置。

```jsx live=true
function App() {

  const exportData = function(data){
    console.log('exportData', data);
  };
  const onSubmit = function(data){
    // 翻页时触发当前页面数据的输出
    console.log('submitData', data);
  };

  const onSave = function(data, imgList, index){
    console.log('save', data, imgList, index);
  };

  const dataInjectionAtCreation = function(data){
    return {
      testDataInjection: 1
    };
  };


  const fileList = [
    {
        "id": 1,
        "url": "https://images.unsplash.com/photo-1653122952207-f20ba3c64f35?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",
        "result": []
    }
 ];

 const basicToolsConfig = [
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "lineTool",
        "config": {
            "isShowCursor": false,
            "lineType": 0,
            "lineColor": 1,
            "edgeAdsorption": true,
            "outOfTarget": true,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 4,
            "customFormat": "^[\\s\\S]{1,3}$",
            "lowerLimitPointNum": 4,
            "upperLimitPointNum": "",
            "attributeList": [
                {
                    "key": "lineTool",
                    "value": "lineTool"
                }
            ]
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "pointTool",
        "config": {
            "isShowCursor": false,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 0,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "polygonTool",
        "config": {
            "isShowCursor": false,
            "lineType": 0,
            "lineColor": 0,
            "drawOutsideTarget": false,
            "edgeAdsorption": true,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 0,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "rectTool",
        "config": {
            "isShowCursor": false,
            "showConfirm": false,
            "skipWhileNoDependencies": false,
            "drawOutsideTarget": false,
            "copyBackwardResult": true,
            "minWidth": 1,
            "minHeight": 1,
            "isShowOrder": false,
            "attributeConfigurable": true,
            "textConfigurable": true,
            "textCheckType": 4,
            "customFormat": ""
        }
    },
    {
        "step": 1,
        "dataSourceStep": 0,
        "tool": "tagTool",
        "config": {
            "inputList": [
                {
                    "key": "类别1",
                    "value": "class1",
                    "isMulti": false,
                    "subSelected": [
                        {
                            "key": "选项1",
                            "value": "option1",
                            "isDefault": true
                        },
                        {
                            "key": "选项2",
                            "value": "option1-2",
                            "isDefault": false
                        }
                    ]
                }
            ]
        }
    }
];

const goBack =function (data){
  console.log(data);
}
const attributeList = [
  {
    "key":"dog",
    "value":"dog"
  }
]

  return (
      <AnnotationOperation
        exportData={exportData}
        headerName="测试各类工具"
        onSubmit={onSubmit}
        imgList={fileList}
        pageSize={10}
        attributeList={attributeList}
        toolsBasicConfig={basicToolsConfig}
        goBack={goBack}
        onSave={onSave}
      />
  );
}
render(App);
```


## API

### ImageProps


| Name             | Type                                          | Default   | Description                              |
| -------------    | --------------------------------------------- | --------- | ---------------------------------------- |
| exportData       | (data: any[]) => void                         | undefined | 导出标注结果回调                                |
| goBack           | (data: any[]) => void                         | false     | 返回上一步回调                             |
| imgList          | IFileItem[]                                   | false     | 文件列表                              |
| onSubmit         | (data: any[]) => void                         | null      | 保存标注结果回调                             |
| onSave           | (data: any[]) => void                         | null      | 保存缓存回调                             |
| onPageChang      | (data: any[]) => void                         | undefined | 翻页回调                                       |
| pageSize         | number                                        | undefined | 设置分页大小                           |
| headerName       | string                                        | undefined | 标题                                  |
| header           | (props: PreviewImageProps) => React.ReactNode | undefined | 头部定制化                                 |
| footer           | (props: PreviewImageProps) => React.ReactNode | undefined | 底部定制化                             |
| sider            | (props: PreviewImageProps) => React.ReactNode | undefined | 右侧边栏定制化                               |
| showTips         | boolean                                       | undefined | 是否显示tips                               |
| leftSider        | React.ReactNode                               | {}        | 左边栏定制化                             |
| toolsBasicConfig | BasicConfig[]                                 | {}        | 多组件配置      
| attributeList    | {key:string;value:string}[]                   | {}        | 公共属性配置       